{"version":3,"sources":["components/UI/UI.module.css","components/Webcam/Webcam.module.css","components/Canvas/Canvas.module.css","components/Manifest/index.js","components/Webcam/index.js","components/UI/Loader.js","components/UI/index.js","components/Particles/index.js","components/Canvas/index.js","api/config.js","api/index.js","utils/locations.js","utils/array.js","components/City/useCity.js","components/City/index.js","App.js","reportWebVitals.js","index.js","components/Manifest/Manifest.module.css"],"names":["module","exports","Manifest","className","styles","topBar","brand","href","link","manifesto","paragraph","row","col6","image","src","alt","Webcam","videoRef","useRef","useEffect","stream","a","navigator","mediaDevices","getUserMedia","video","audio","newStream","current","srcObject","load","getTracks","forEach","track","stop","webcam","ref","autoPlay","Loader","text","useState","index","setIndex","i","setInterval","prev","clearInterval","Array","join","getDisplayName","status","city","name","shortName","split","getDisplayPM","particles","UI","nextCity","isHome","setShowWebcam","ui","header","main","info","action","disabled","slug","homeLink","worldLink","Particle","particle","mesh","useFrame","state","delta","time","clock","getElapsedTime","rotation","x","y","position","Math","cos","key","sin","z","args","size","color","opacity","trasparent","Particles","map","ThreeCanvas","setParticles","count","push","random","getParticles","canvas","token","n","label","min","getCity","url","fetch","response","json","apiResponse","town","data","pm25","iaqi","v","locations","array","length","j","floor","temp","shuffle","getLocationBySlug","location","find","cache","getCached","setCached","result","useCity","setStatus","setCity","setNextCity","currentLocation","findIndex","getNextLocation","City","useRoute","params","showWebcam","Canvas","App","id","base","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c660686.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ui\":\"UI_ui__138_5\",\"header\":\"UI_header__14pMo\",\"main\":\"UI_main__2vn9Z\",\"info\":\"UI_info__cpCR_\",\"action\":\"UI_action__2YYGX\",\"homeLink\":\"UI_homeLink__1YuRp\",\"worldLink\":\"UI_worldLink__PPCET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"webcam\":\"Webcam_webcam__5zdMj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"Canvas_canvas__1txVP\"};","import React from \"react\";\nimport { Link } from \"wouter\";\n\nimport styles from \"./Manifest.module.css\";\n\nfunction Manifest() {\n  return (\n    <div>\n      <div className={styles.topBar}>\n        <h1 className={styles.brand}>\n          WhatWeBreathe\n          <br />\n          Plotting PMx around you\n        </h1>\n        <Link href=\"/\" className={styles.link}>\n          Back <span>→</span>\n        </Link>\n      </div>\n      <div className={styles.manifesto}>\n        <p className={styles.paragraph}>\n          ‍According to WHO, around 7 million people die every year due to a\n          subtle and invisible killer: pollution. Exposure to particles such as\n          fine dust can lead to stroke, heart disease, lung cancer and other\n          respiratory infection. It is supposed, analyzing infection rates in\n          polluted areas, that these particles have facilitated the spread of\n          the new Coronavirus (SARS-CoV-2).\n        </p>\n        <div className={styles.row}>\n          <div className={styles.col6}>\n            <img\n              className={styles.image}\n              src=\"https://uploads-ssl.webflow.com/6054be9e3328955c76eebcb8/6054c52a7ac7ad5b8855f0c3_positive-p-1080.jpeg\"\n              alt=\"good WWB\"\n            />\n            <div>:-)</div>\n          </div>\n          <div className={styles.col6} alt=\"no good WWB\">\n            <img\n              className={styles.image}\n              src=\"https://uploads-ssl.webflow.com/6054be9e3328955c76eebcb8/6054c5445e16ba2e49fac051_negative-p-2000.jpeg\"\n              alt=\"no good WWB\"\n            />\n            <div>:-(</div>\n          </div>\n        </div>\n        <p className={styles.paragraph}>\n          WhatWeBreath is a React-based project made to raise awareness on fine\n          dust pollution: have you ever wondered what it would be like if these\n          particles were visible? We tried to give an answer.\n        </p>\n        <Link href=\"/\" className={styles.link}>\n          by Polar Coffee <span>→</span>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Manifest;\n","import React, { useRef, useEffect } from \"react\";\n\nimport styles from \"./Webcam.module.css\";\n\nfunction Webcam() {\n  const videoRef = useRef();\n  useEffect(() => {\n    let stream;\n    const load = async () => {\n      try {\n        if (navigator.mediaDevices) {\n          const newStream = await navigator.mediaDevices.getUserMedia({\n            video: true,\n            audio: false,\n          });\n          stream = newStream;\n          videoRef.current.srcObject = newStream;\n        }\n      } catch (e) {}\n    };\n    load();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach((track) => {\n          track.stop();\n        });\n      }\n    };\n  }, []);\n  return (\n    <video className={styles.webcam} ref={videoRef} autoPlay={true}></video>\n  );\n}\n\nexport default Webcam;\n","import { useEffect, useState } from \"react\";\n\nconst Loader = ({ text = \"Loading\" }) => {\n  const [index, setIndex] = useState(0);\n  useEffect(() => {\n    const i = setInterval(() => {\n      setIndex((prev) => (prev === 3 ? 0 : prev + 1));\n    }, 500);\n    return () => clearInterval(i);\n  }, []);\n  return `${text}${Array(index + 1).join(\".\")}`;\n};\n\nexport default Loader;\n","import React from \"react\";\nimport { Link } from \"wouter\";\n\nimport Loader from \"./Loader\";\nimport styles from \"./UI.module.css\";\n\nconst getDisplayName = (status, city = {}) => {\n  if (status === \"loading\") return <Loader />;\n  if (status === \"error\") return \"Oops.. not found!\";\n  const name = city.shortName || city.name || \"\";\n  return name.split(\",\")[0];\n};\nconst getDisplayPM = (status, city = {}) => {\n  const particles = status === \"loaded\" ? city.particles : null;\n  return `${particles || \"???\"} — pm25`;\n};\n\nfunction UI({ status, city, nextCity, isHome, setShowWebcam }) {\n  return (\n    <div className={styles.ui}>\n      <header className={styles.header}>\n        <div>\n          <h3>WhatWeBreathe</h3>\n          <h2>Plotting PMx around you</h2>\n        </div>\n        <div>\n          <Link href=\"/manifest\">Manifesto →</Link>\n        </div>\n      </header>\n      <main className={styles.main}>\n        <div className={styles.info}>\n          <h1>{getDisplayName(status, city)}</h1>\n          <div>{getDisplayPM(status, city)}</div>\n        </div>\n        <div className={styles.action}>\n          <Link\n            disabled={status === \"loading\"}\n            href={isHome ? `/${nextCity.slug}` : \"/\"}\n          >\n            {isHome ? \"Rest of the world\" : \"Back home\"}{\" \"}\n            <span className={isHome ? styles.homeLink : styles.worldLink}>\n              →\n            </span>\n          </Link>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default UI;\n","import React, { useRef } from \"react\";\nimport { useFrame } from \"react-three-fiber\";\n\nfunction Particle({ particle }) {\n  const mesh = useRef();\n\n  useFrame((state, delta) => {\n    if (!mesh.current) return;\n    const time = state.clock.getElapsedTime();\n    mesh.current.rotation.x = mesh.current.rotation.y += 0.01;\n    mesh.current.position.x += Math.cos(time + particle.key) * 0.01;\n    mesh.current.position.y += Math.sin(time * 1.1 + particle.key) * 0.01;\n    mesh.current.position.z += Math.sin(time * 0.9 + particle.key) * 0.01;\n  });\n\n  return (\n    <mesh position={[particle.x, particle.y, particle.z]} ref={mesh}>\n      <sphereBufferGeometry args={[particle.size, 32, 32]} />\n      <meshStandardMaterial color={\"#25ff00\"} opacity={0.05} trasparent />\n    </mesh>\n  );\n}\n\nfunction Particles({ particles = [] }) {\n  return (\n    <group>\n      {particles.map((particle) => (\n        <Particle key={particle.key} particle={particle} />\n      ))}\n    </group>\n  );\n}\n\nexport default Particles;\n","import React, { useState, useEffect } from \"react\";\nimport { Canvas } from \"react-three-fiber\";\n\nimport Particles from \"../Particles\";\n\nimport styles from \"./Canvas.module.css\";\n\nconst getParticles = (count) => {\n  const particles = [];\n  for (let i = 0; i < count; i += 1) {\n    particles.push({\n      key: i,\n      size: Math.random() * 0.1 + 0.1,\n      x: Math.random() * 10 - 5,\n      y: Math.random() * 10 - 5,\n      z: Math.random() * 10 - 5,\n    });\n  }\n  return particles;\n};\n\nfunction ThreeCanvas({ status, city }) {\n  const [particles, setParticles] = useState([]);\n  useEffect(() => {\n    if (city) setParticles(getParticles(city.particles));\n  }, [city]);\n  return (\n    <div className={styles.canvas}>\n      <Canvas>\n        <ambientLight color=\"#999\" />\n        <pointLight position={[10, 10, 10]} color=\"#999\" />\n        <Particles particles={particles} />\n      </Canvas>\n    </div>\n  );\n}\n\nexport default ThreeCanvas;\n","const token = 'e7416f21983d8cd887bbe33feee25d71fc3a214f';\nexport const hereIpRequest = () =>\n  `https://api.waqi.info/feed/here/?token=${token}`;\nexport const cityIpRequest = (city) =>\n  `https://api.waqi.info/feed/${city}/?token=${token}`;\n","import { hereIpRequest, cityIpRequest } from \"./config\";\n\nconst getParticles = (n) => {\n  let label = \"\";\n  switch (true) {\n    case n < 50:\n      label = \"good\";\n      break;\n    case n < 100:\n      label = \"Moderate\";\n      break;\n    case n < 150:\n      label = \"Unhealthy for sersitive groups\";\n      break;\n    case n < 200:\n      label = \"Unhealthy\";\n      break;\n    case n < 300:\n      label = \"Very unhealthy\";\n      break;\n    case n > 301:\n      label = \"Hazardous\";\n      break;\n    default:\n      label = \"\";\n      break;\n  }\n  return {\n    label,\n    particles: Math.min(n, 400),\n  };\n};\n\nexport const getCity = async (slug) => {\n  const url = slug ? cityIpRequest(slug) : hereIpRequest();\n  const response = await fetch(url);\n  const apiResponse = await response.json();\n\n  const town =\n    apiResponse.data && apiResponse.data.city && apiResponse.data.city.name;\n  const pm25 =\n    apiResponse.data &&\n    apiResponse.data.iaqi &&\n    apiResponse.data.iaqi.pm25 &&\n    apiResponse.data.iaqi.pm25.v;\n\n  return {\n    name: town,\n    ...getParticles(pm25),\n  };\n};\n","import { shuffle } from \"./array\";\n\nexport const locations = [\n  { name: \"Toronto\", slug: \"toronto\" },\n  { name: \"Mumbai\", slug: \"mumbai\" },\n  { name: \"Roma\", slug: \"roma\" },\n  { name: \"Barcelona\", slug: \"barcelona\" },\n  { name: \"Moscow\", slug: \"moscow\" },\n  { name: \"Tatebayashi\", slug: \"tatebayashi\" },\n  { name: \"Shenzhen\", slug: \"shenzhen\" },\n  { name: \"Toronto\", slug: \"toronto\" },\n  { name: \"Foshan\", slug: \"foshan\" },\n  { name: \"İzmir\", slug: \"izmir\" },\n  { name: \"Edirne\", slug: \"edirne\" },\n  { name: \"Lahore\", slug: \"lahore\" },\n  { name: \"Nagoya\", slug: \"nagoya\" },\n  { name: \"Dongguan\", slug: \"dongguan\" },\n  { name: \"Jakarta\", slug: \"jakarta\" },\n  { name: \"Kawasaki\", slug: \"kawasaki\" },\n  { name: \"Attard, Malta\", slug: \"attard\" },\n  { name: \"Córdoba\", slug: \"cordoba\" },\n  { name: \"Salvador\", slug: \"salvador\" },\n  { name: \"Tokyo\", slug: \"tokyo\" },\n  { name: \"Qom\", slug: \"qom\" },\n  { name: \"Berkeley\", slug: \"berkeley\" },\n  { name: \"Munich\", slug: \"munich\" },\n  { name: \"São Paulo\", slug: \"sao-paulo\" },\n  { name: \"Santiago\", slug: \"santiago\" },\n  { name: \"Xiamen\", slug: \"xiamen\" },\n  { name: \"Punta Arenas\", slug: \"punta-arenas\" },\n  { name: \"Kanpur\", slug: \"kanpur\" },\n  { name: \"Hanoi\", slug: \"hanoi\" },\n  { name: \"Columbia\", slug: \"columbia\" },\n  { name: \"Abuja\", slug: \"abuja\" },\n  { name: \"Bangkok\", slug: \"bangkok\" },\n  { name: \"Warburton\", slug: \"warburton\" },\n  { name: \"Blenheim\", slug: \"blenheim\" },\n  { name: \"Calgary\", slug: \"calgary\" },\n  { name: \"Peshawar\", slug: \"peshawar\" },\n  { name: \"Pune\", slug: \"pune\" },\n  { name: \"Hiroshima\", slug: \"hiroshima\" },\n  { name: \"Buenos Aires\", slug: \"buenos-aires\" },\n  { name: \"Beroun\", slug: \"beroun\" },\n  { name: \"Warsaw\", slug: \"warsaw\" },\n  { name: \"Lagos\", slug: \"lagos\" },\n  { name: \"Beroun\", slug: \"beroun\" },\n  { name: \"Cape Town\", slug: \"cape-town\" },\n  { name: \"Chennai\", slug: \"chennai\" },\n  { name: \"Mexico City\", slug: \"mexico City\" },\n  { name: \"Medellin\", slug: \"medellin\" },\n  { name: \"Tangshan\", slug: \"tangshan\" },\n  { name: \"Lanzhou\", slug: \"lanzhou\" },\n  { name: \"Mumbai\", slug: \"mumbai\" },\n  { name: \"Karachi\", slug: \"karachi\" },\n  { name: \"Lucknow\", slug: \"lucknow\" },\n  { name: \"Nanjing\", slug: \"nanjing\" },\n  { name: \"Dubai\", slug: \"dubai\" },\n  { name: \"Göteborg\", slug: \"goteborg\" },\n  { name: \"Ajaccio\", slug: \"ajaccio\" },\n  { name: \"Harbin\", slug: \"harbin\" },\n  { name: \"Hamburg\", slug: \"hamburg\" },\n  { name: \"Toronto\", slug: \"toronto\" },\n  { name: \"Guangzhou\", slug: \"guangzhou\" },\n  { name: \"Conakry\", slug: \"conakry\" },\n  { name: \"Hyderabad\", slug: \"hyderabad\" },\n  { name: \"Jaipur\", slug: \"jaipur\" },\n  { name: \"Lima\", slug: \"lima\" },\n  { name: \"Phnom Penh\", slug: \"phnom-penh\" },\n  { name: \"Cali\", slug: \"cali\" },\n  { name: \"Dhaka\", slug: \"dhaka\" },\n  { name: \"Ningbo\", slug: \"ningbo\" },\n  { name: \"Dalian\", slug: \"dalian\" },\n  { name: \"Suzhou\", slug: \"suzhou\" },\n  { name: \"Belgrade\", slug: \"belgrade\" },\n  { name: \"Daegu\", slug: \"daegu\" },\n  { name: \"Kyoto\", slug: \"kyoto\" },\n  { name: \"Basra\", slug: \"basra\" },\n  { name: \"Romania\", slug: \"romania\" },\n  { name: \"Sofia\", slug: \"sofia\" },\n  { name: \"Ukraine\", slug: \"ukraine\" },\n  { name: \"Hefei\", slug: \"hefei\" },\n  { name: \"Chicago\", slug: \"chicago\" },\n  { name: \"Sydney\", slug: \"sydney\" },\n  { name: \"Abu Dhabi\", slug: \"abu-dhabi\" },\n  { name: \"Paris\", slug: \"paris\" },\n  { name: \"Tabriz\", slug: \"tabriz\" },\n  { name: \"Moscow\", slug: \"moscow\" },\n  { name: \"Baghdad\", slug: \"baghdad\" },\n  { name: \"Dallas\", slug: \"dallas\" },\n  { name: \"Kampala\", slug: \"kampala\" },\n  { name: \"Jeddah\", slug: \"jeddah\" },\n  { name: \"Chengdu\", slug: \"chengdu\" },\n  { name: \"Patna\", slug: \"patna\" },\n  { name: \"Shiraz\", slug: \"shiraz\" },\n  { name: \"Hong Kong\", slug: \"hong-kong\" },\n  { name: \"Ahvaz\", slug: \"ahvaz\" },\n  { name: \"Caloocan\", slug: \"caloocan\" },\n  { name: \"Suwałki\", slug: \"suwalki\" },\n  { name: \"Aalen\", slug: \"aalen\" },\n  { name: \"Porto\", slug: \"porto\" },\n  { name: \"Ahmedabad\", slug: \"ahmedabad\" },\n  { name: \"Budapest\", slug: \"budapest\" },\n  { name: \"Paris\", slug: \"paris\" },\n  { name: \"Viterbo\", slug: \"viterbo\" },\n  { name: \"New York\", slug: \"new-york\" },\n];\n\nshuffle(locations);\n\nexport const getFirstLocation = () => locations[0];\nexport const getLocationBySlug = (slug) => {\n  if (!slug) return { name: null, slug: null };\n  const location = locations.find((location) => location.slug === slug);\n  if (location) return location;\n  return { name: null, slug };\n};\nexport const getNextLocation = (slug) => {\n  const index = locations.findIndex((location) => location.slug === slug);\n  if (index >= 0 && index < locations.length - 1) return locations[index + 1];\n  return locations[0];\n};\n","export const shuffle = (array) => {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n};\n","import { useState, useEffect } from \"react\";\n\nimport { getCity } from \"../../api\";\nimport {\n  getFirstLocation,\n  getLocationBySlug,\n  getNextLocation,\n} from \"../../utils/locations\";\n\nconst cache = {};\n\nconst getCached = (slug) => cache[slug || \"home\"];\nconst setCached = (slug, result) => (cache[slug || \"home\"] = result);\n\nconst useCity = (slug) => {\n  const [status, setStatus] = useState(\"loading\");\n  const [city, setCity] = useState(null);\n  const [nextCity, setNextCity] = useState(getFirstLocation());\n  useEffect(() => {\n    const load = async () => {\n      const currentLocation = getLocationBySlug(slug);\n      setStatus(\"loading\");\n      try {\n        let result = getCached(currentLocation.slug);\n        if (!result) {\n          result = await getCity(currentLocation.slug);\n          result.shortName = currentLocation.name;\n          setCached(currentLocation.slug, result);\n        }\n        setCity(result);\n        setStatus(\"loaded\");\n      } catch (e) {\n        setStatus(\"error\");\n      }\n    };\n\n    load();\n    if (slug) {\n      setNextCity(getNextLocation(slug));\n    }\n  }, [slug]);\n\n  return {\n    status,\n    isHome: !slug,\n    city,\n    nextCity,\n  };\n};\n\nexport default useCity;\n","import React, { useState } from \"react\";\nimport { useRoute } from \"wouter\";\n\nimport Webcam from \"../Webcam\";\nimport UI from \"../UI\";\nimport Canvas from \"../Canvas\";\n\nimport useCity from \"./useCity\";\n\nfunction City() {\n  const [, params] = useRoute(\"/:city\");\n  const [showWebcam, setShowWebcam] = useState(true);\n  const { status, city, nextCity, isHome } = useCity(params && params.city);\n\n  return (\n    <div>\n      {showWebcam && <Webcam />}\n      <Canvas status={status} city={city} />\n      <UI\n        status={status}\n        city={city}\n        isHome={isHome}\n        nextCity={nextCity}\n        setShowWebcam={setShowWebcam}\n      />\n    </div>\n  );\n}\n\nexport default City;\n","import React from \"react\";\nimport { Switch, Route, Router } from \"wouter\";\n\nimport Manifest from \"./components/Manifest\";\nimport City from \"./components/City\";\n\nfunction App() {\n  return (\n    <div id=\"app\">\n      <Router base=\"/whatwebreathe\">\n        <Switch>\n          <Route path=\"/manifest\">\n            <Manifest />\n          </Route>\n          <Route>\n            <City />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topBar\":\"Manifest_topBar__KGyn0\",\"brand\":\"Manifest_brand__1IZpN\",\"link\":\"Manifest_link__122tJ\",\"manifesto\":\"Manifest_manifesto__259C8\",\"image\":\"Manifest_image__14KZh\",\"row\":\"Manifest_row__3LLC5\",\"col6\":\"Manifest_col6__-DqT3\",\"paragraph\":\"Manifest_paragraph__S_40x\"};"],"sourceRoot":""}