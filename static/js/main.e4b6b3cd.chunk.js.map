{"version":3,"sources":["components/UI/UI.module.css","components/Webcam/Webcam.module.css","components/Background/Background.module.css","components/Canvas/Canvas.module.css","assets/images/positive1.jpg","assets/images/negative1.jpg","components/Manifest/index.js","components/Webcam/index.js","assets/images/person.jpeg","components/Background/index.js","components/UI/Loader.js","components/UI/index.js","components/Particles/index.js","components/Canvas/index.js","api/config.js","api/index.js","utils/locations.js","utils/array.js","components/City/useCity.js","components/City/index.js","App.js","reportWebVitals.js","index.js","components/Manifest/Manifest.module.css"],"names":["module","exports","Manifest","className","styles","main","topBar","brand","href","link","manifesto","paragraph","row","col6","image","src","Positive","alt","Negative","Webcam","setShowWebcam","videoRef","useRef","useEffect","stream","a","navigator","mediaDevices","getUserMedia","video","audio","newStream","current","srcObject","load","getTracks","forEach","track","stop","webcam","ref","autoPlay","Background","background","bgSrc","Loader","text","useState","index","setIndex","i","setInterval","prev","clearInterval","Array","join","getDisplayName","status","city","name","shortName","split","getDisplayPM","particles","UI","nextCity","isHome","useLocation","setLocation","nextUrl","slug","onSwipe","useCallback","handlers","useSwipeable","onSwipedLeft","onSwipedRight","ui","header","info","action","disabled","homeLink","worldLink","Particle","particle","mesh","useFrame","state","delta","time","clock","getElapsedTime","rotation","x","y","position","Math","cos","key","sin","z","args","size","color","opacity","trasparent","Particles","map","ThreeCanvas","setParticles","count","push","random","getParticles","canvas","token","n","label","min","getCity","url","fetch","response","json","apiResponse","town","data","pm25","iaqi","v","locations","array","length","j","floor","temp","shuffle","getLocationBySlug","qs","location","find","cache","getCached","setCached","result","useCity","setStatus","setCity","setNextCity","currentLocation","findIndex","getNextLocation","City","useRoute","params","showWebcam","Canvas","window","hash","replace","navigate","to","useHashLocation","loc","setLoc","handler","addEventListener","removeEventListener","App","id","hook","base","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4b6b3cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ui\":\"UI_ui__138_5\",\"header\":\"UI_header__14pMo\",\"main\":\"UI_main__2vn9Z\",\"info\":\"UI_info__cpCR_\",\"action\":\"UI_action__2YYGX\",\"homeLink\":\"UI_homeLink__1YuRp\",\"worldLink\":\"UI_worldLink__PPCET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"webcam\":\"Webcam_webcam__5zdMj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"Background_background__YQSqi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"Canvas_canvas__1txVP\"};","export default __webpack_public_path__ + \"static/media/positive1.1d3c32d2.jpg\";","export default __webpack_public_path__ + \"static/media/negative1.c2609c9d.jpg\";","import React from \"react\";\nimport { Link } from \"wouter\";\nimport Positive from \"../../assets/images/positive1.jpg\";\nimport Negative from \"../../assets/images/negative1.jpg\";\n\nimport styles from \"./Manifest.module.css\";\n\nfunction Manifest() {\n  return (\n    <main className={styles.main}>\n      <div className={styles.topBar}>\n        <h1 className={styles.brand}>\n          WhatWeBreathe\n          <br />\n          Plotting PM2.5 around you\n        </h1>\n        <Link href=\"/\" className={styles.link}>\n          Back <span>→</span>\n        </Link>\n      </div>\n      <div className={styles.manifesto}>\n        <p className={styles.paragraph}>\n          ‍According to WHO, around 7 million people die every year due to a\n          subtle and invisible killer: pollution. Exposure to particles such as\n          fine dust can lead to stroke, heart disease, lung cancer and other\n          respiratory infection. It is supposed, analyzing infection rates in\n          polluted areas, that these particles have facilitated the spread of\n          the new Coronavirus (SARS-CoV-2).\n        </p>\n        <div className={styles.row}>\n          <div className={styles.col6}>\n            <img className={styles.image} src={Positive} alt=\"good WWB\" />\n            <div>:-)</div>\n          </div>\n          <div className={styles.col6} alt=\"no good WWB\">\n            <img className={styles.image} src={Negative} alt=\"no good WWB\" />\n            <div>:-(</div>\n          </div>\n        </div>\n        <p className={styles.paragraph}>\n          WhatWeBreath is a React-based project made to raise awareness on fine\n          dust pollution: have you ever wondered what it would be like if these\n          particles were visible? We tried to give an answer.\n        </p>\n        <Link href=\"/\" className={styles.link}>\n          by Polar Coffee <span>→</span>\n        </Link>\n      </div>\n    </main>\n  );\n}\n\nexport default Manifest;\n","import React, { useRef, useEffect } from \"react\";\n\nimport styles from \"./Webcam.module.css\";\n\nfunction Webcam({ setShowWebcam }) {\n  const videoRef = useRef();\n  useEffect(() => {\n    let stream;\n    const load = async () => {\n      try {\n        if (navigator.mediaDevices) {\n          const newStream = await navigator.mediaDevices.getUserMedia({\n            video: true,\n            audio: false,\n          });\n          stream = newStream;\n          videoRef.current.srcObject = newStream;\n        } else setShowWebcam(false);\n      } catch (e) {\n        setShowWebcam(false);\n      }\n    };\n    load();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach((track) => {\n          track.stop();\n        });\n      }\n    };\n  }, [setShowWebcam]);\n  return (\n    <video className={styles.webcam} ref={videoRef} autoPlay={true}></video>\n  );\n}\n\nexport default Webcam;\n","export default __webpack_public_path__ + \"static/media/person.706cc310.jpeg\";","import React from \"react\";\n\nimport bgSrc from \"../../assets/images/person.jpeg\";\nimport styles from \"./Background.module.css\";\n\nfunction Background() {\n  return (\n    <div className={styles.background}>\n      <img src={bgSrc} alt=\"Person Background\" />\n    </div>\n  );\n}\n\nexport default Background;\n","import { useEffect, useState } from \"react\";\n\nconst Loader = ({ text = \"Loading\" }) => {\n  const [index, setIndex] = useState(0);\n  useEffect(() => {\n    const i = setInterval(() => {\n      setIndex((prev) => (prev === 3 ? 0 : prev + 1));\n    }, 500);\n    return () => clearInterval(i);\n  }, []);\n  return `${text}${Array(index + 1).join(\".\")}`;\n};\n\nexport default Loader;\n","import React, { useCallback } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { useSwipeable } from \"react-swipeable\";\n\nimport Loader from \"./Loader\";\nimport styles from \"./UI.module.css\";\n\nconst getDisplayName = (status, city = {}) => {\n  if (status === \"loading\") return <Loader />;\n  if (status === \"error\") return \"Oops.. not found!\";\n  const name = city.shortName || city.name || \"\";\n  return name.split(\",\")[0];\n};\nconst getDisplayPM = (status, city = {}) => {\n  const particles = status === \"loaded\" ? city.particles : null;\n  return `${particles || \"???\"} — pm2.5`;\n};\n\nfunction UI({ status, city, nextCity, isHome }) {\n  const [, setLocation] = useLocation();\n  const nextUrl = isHome ? `/${nextCity.slug}` : \"/\";\n  const onSwipe = useCallback(\n    () => status !== \"loading\" && setLocation(nextUrl),\n    [status, nextUrl, setLocation]\n  );\n  const handlers = useSwipeable({\n    onSwipedLeft: onSwipe,\n    onSwipedRight: onSwipe,\n  });\n  return (\n    <div {...handlers} className={styles.ui}>\n      <header className={styles.header}>\n        <div>\n          <h3>WhatWeBreathe</h3>\n          <h2>Plotting PM2.5 around you</h2>\n        </div>\n        <div>\n          <Link href=\"/manifest\">Manifesto →</Link>\n        </div>\n      </header>\n      <main className={styles.main}>\n        <div className={styles.info}>\n          <h1>{getDisplayName(status, city)}</h1>\n          <div>{getDisplayPM(status, city)}</div>\n        </div>\n        <div className={styles.action}>\n          <Link disabled={status === \"loading\"} href={nextUrl}>\n            {isHome ? \"Rest of the world\" : \"Back home\"}{\" \"}\n            <span className={isHome ? styles.homeLink : styles.worldLink}>\n              →\n            </span>\n          </Link>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default UI;\n","import React, { useRef } from \"react\";\nimport { useFrame } from \"react-three-fiber\";\n\nfunction Particle({ particle }) {\n  const mesh = useRef();\n\n  useFrame((state, delta) => {\n    if (!mesh.current) return;\n    const time = state.clock.getElapsedTime();\n    mesh.current.rotation.x = mesh.current.rotation.y += 0.01;\n    mesh.current.position.x += Math.cos(time + particle.key) * 0.01;\n    mesh.current.position.y += Math.sin(time * 1.1 + particle.key) * 0.01;\n    mesh.current.position.z += Math.sin(time * 0.9 + particle.key) * 0.01;\n  });\n\n  return (\n    <mesh position={[particle.x, particle.y, particle.z]} ref={mesh}>\n      <sphereBufferGeometry args={[particle.size, 32, 32]} />\n      <meshStandardMaterial color={\"#25ff00\"} opacity={0.05} trasparent />\n    </mesh>\n  );\n}\n\nfunction Particles({ particles = [] }) {\n  return (\n    <group>\n      {particles.map((particle) => (\n        <Particle key={particle.key} particle={particle} />\n      ))}\n    </group>\n  );\n}\n\nexport default Particles;\n","import React, { useState, useEffect } from \"react\";\nimport { Canvas } from \"react-three-fiber\";\n\nimport Particles from \"../Particles\";\n\nimport styles from \"./Canvas.module.css\";\n\nconst getParticles = (count) => {\n  const particles = [];\n  for (let i = 0; i < count; i += 1) {\n    particles.push({\n      key: i,\n      size: Math.random() * 0.1 + 0.1,\n      x: Math.random() * 10 - 5,\n      y: Math.random() * 10 - 5,\n      z: Math.random() * 10 - 5,\n    });\n  }\n  return particles;\n};\n\nfunction ThreeCanvas({ status, city }) {\n  const [particles, setParticles] = useState([]);\n  useEffect(() => {\n    if (city) setParticles(getParticles(city.particles));\n  }, [city]);\n  return (\n    <div className={styles.canvas}>\n      <Canvas>\n        <ambientLight color=\"#999\" />\n        <pointLight position={[10, 10, 10]} color=\"#999\" />\n        <Particles particles={particles} />\n      </Canvas>\n    </div>\n  );\n}\n\nexport default ThreeCanvas;\n","const token = 'e7416f21983d8cd887bbe33feee25d71fc3a214f';\nexport const hereIpRequest = () =>\n  `https://api.waqi.info/feed/here/?token=${token}`;\nexport const cityIpRequest = (city) =>\n  `https://api.waqi.info/feed/${city}/?token=${token}`;\n","import { hereIpRequest, cityIpRequest } from \"./config\";\n\nconst getParticles = (n) => {\n  let label = \"\";\n  switch (true) {\n    case n < 50:\n      label = \"good\";\n      break;\n    case n < 100:\n      label = \"Moderate\";\n      break;\n    case n < 150:\n      label = \"Unhealthy for sersitive groups\";\n      break;\n    case n < 200:\n      label = \"Unhealthy\";\n      break;\n    case n < 300:\n      label = \"Very unhealthy\";\n      break;\n    case n > 301:\n      label = \"Hazardous\";\n      break;\n    default:\n      label = \"\";\n      break;\n  }\n  return {\n    label,\n    particles: Math.min(n, 400),\n  };\n};\n\nexport const getCity = async (slug) => {\n  const url = slug ? cityIpRequest(slug) : hereIpRequest();\n  const response = await fetch(url);\n  const apiResponse = await response.json();\n\n  const town =\n    apiResponse.data && apiResponse.data.city && apiResponse.data.city.name;\n  const pm25 =\n    apiResponse.data &&\n    apiResponse.data.iaqi &&\n    apiResponse.data.iaqi.pm25 &&\n    apiResponse.data.iaqi.pm25.v;\n\n  return {\n    name: town,\n    ...getParticles(pm25),\n  };\n};\n","import { shuffle } from \"./array\";\n\nexport const locations = [\n  { name: \"Toronto\", slug: \"toronto\" },\n  { name: \"Mumbai\", slug: \"mumbai\" },\n  { name: \"Roma\", slug: \"roma\" },\n  { name: \"Trondheim\", slug: \"trondheim\" },\n  { name: \"Moscow\", slug: \"moscow\" },\n  { name: \"Tatebayashi\", slug: \"tatebayashi\" },\n  { name: \"Shenzhen\", slug: \"shenzhen\" },\n  { name: \"Toronto\", slug: \"toronto\" },\n  { name: \"Foshan\", slug: \"foshan\" },\n  { name: \"İzmir\", slug: \"izmir\" },\n  { name: \"Edirne\", slug: \"edirne\" },\n  { name: \"Lahore\", slug: \"lahore\" },\n  { name: \"Nagoya\", slug: \"nagoya\" },\n  { name: \"Dongguan\", slug: \"dongguan\" },\n  { name: \"Jakarta\", slug: \"jakarta\" },\n  { name: \"Kawasaki\", slug: \"kawasaki\" },\n  { name: \"Attard, Malta\", slug: \"attard\" },\n  { name: \"Miami\", slug: \"miami\" },\n  { name: \"Salvador\", slug: \"salvador\" },\n  { name: \"Tokyo\", slug: \"tokyo\" },\n  { name: \"Qom\", slug: \"qom\" },\n  { name: \"Berkeley\", slug: \"berkeley\" },\n  { name: \"Cremona\", slug: \"cremona\" },\n  { name: \"São Paulo\", slug: \"sao-paulo\" },\n  { name: \"Santiago\", slug: \"santiago\" },\n  { name: \"Xiamen\", slug: \"xiamen\" },\n  { name: \"Punta Arenas\", slug: \"punta-arenas\" },\n  { name: \"Kanpur\", slug: \"kanpur\" },\n  { name: \"Hanoi\", slug: \"hanoi\" },\n  { name: \"Columbia\", slug: \"columbia\" },\n  { name: \"Abuja\", slug: \"abuja\" },\n  { name: \"Bangkok\", slug: \"bangkok\" },\n  { name: \"Warburton\", slug: \"warburton\" },\n  { name: \"Blenheim\", slug: \"blenheim\" },\n  { name: \"Calgary\", slug: \"calgary\" },\n  { name: \"Peshawar\", slug: \"peshawar\" },\n  { name: \"Pune\", slug: \"pune\" },\n  { name: \"Hiroshima\", slug: \"hiroshima\" },\n  { name: \"Buenos Aires\", slug: \"buenos-aires\" },\n  { name: \"Beroun\", slug: \"beroun\" },\n  { name: \"Warsaw\", slug: \"warsaw\" },\n  { name: \"Lagos\", slug: \"lagos\" },\n  { name: \"Beroun\", slug: \"beroun\" },\n  { name: \"Cape Town\", slug: \"cape-town\" },\n  { name: \"Chennai\", slug: \"chennai\" },\n  { name: \"Mexico City\", slug: \"mexico-city\" },\n  { name: \"Medellin\", slug: \"medellin\" },\n  { name: \"Tangshan\", slug: \"tangshan\" },\n  { name: \"Lanzhou\", slug: \"lanzhou\" },\n  { name: \"Mumbai\", slug: \"mumbai\" },\n  { name: \"Karachi\", slug: \"karachi\" },\n  { name: \"Lucknow\", slug: \"lucknow\" },\n  { name: \"Nanjing\", slug: \"nanjing\" },\n  { name: \"Dubai\", slug: \"dubai\" },\n  { name: \"Göteborg\", slug: \"goteborg\" },\n  { name: \"Ajaccio\", slug: \"ajaccio\" },\n  { name: \"Harbin\", slug: \"harbin\" },\n  { name: \"Hamburg\", slug: \"hamburg\" },\n  { name: \"Pasadena\", slug: \"pasadena\" },\n  { name: \"Guangzhou\", slug: \"guangzhou\" },\n  { name: \"Conakry\", slug: \"conakry\" },\n  { name: \"Hyderabad\", slug: \"hyderabad\" },\n  { name: \"Jaipur\", slug: \"jaipur\" },\n  { name: \"Lima\", slug: \"lima\" },\n  { name: \"Artvin\", slug: \"artvin\" },\n  { name: \"Linares\", slug: \"linares\" },\n  { name: \"Dhaka\", slug: \"dhaka\" },\n  { name: \"Ningbo\", slug: \"ningbo\" },\n  { name: \"Dalian\", slug: \"dalian\" },\n  { name: \"Suzhou\", slug: \"suzhou\" },\n  { name: \"Belgrade\", slug: \"belgrade\" },\n  { name: \"Daegu\", slug: \"daegu\" },\n  { name: \"Kyoto\", slug: \"kyoto\" },\n  { name: \"Quanzhou\", slug: \"quanzhou\" },\n  { name: \"Manchester\", slug: \"manchester-piccadilly\" },\n  { name: \"Milano\", slug: \"milano\" },\n  { name: \"Ukraine\", slug: \"ukraine\" },\n  { name: \"Hefei\", slug: \"hefei\" },\n  { name: \"Chicago\", slug: \"chicago\" },\n  { name: \"Sydney\", slug: \"sydney\" },\n  { name: \"Washington\", slug: \"washington\" },\n  { name: \"Paris\", slug: \"paris\" },\n  { name: \"Tabriz\", slug: \"tabriz\" },\n  { name: \"Moscow\", slug: \"moscow\" },\n  { name: \"Baghdad\", slug: \"baghdad\" },\n  { name: \"El Paso\", slug: \"el-paso\" },\n  { name: \"Kampala\", slug: \"kampala\" },\n  { name: \"Lushun\", slug: \"lushun\" },\n  { name: \"Chengdu\", slug: \"chengdu\" },\n  { name: \"Patna\", slug: \"patna\" },\n  { name: \"Shiraz\", slug: \"shiraz\" },\n  { name: \"Hong Kong\", slug: \"hong-kong\" },\n  { name: \"Ahvaz\", slug: \"ahvaz\" },\n  { name: \"Marmande\", slug: \"marmande\" },\n  { name: \"Suwałki\", slug: \"suwalki\" },\n  { name: \"Aalen\", slug: \"aalen\" },\n  { name: \"Porto\", slug: \"porto\" },\n  { name: \"Ahmedabad\", slug: \"ahmedabad\" },\n  { name: \"Budapest\", slug: \"budapest\" },\n  { name: \"Paris\", slug: \"paris\" },\n  { name: \"Viterbo\", slug: \"viterbo\" },\n  { name: \"New York\", slug: \"new-york\" },\n];\n\nshuffle(locations);\n\nexport const getFirstLocation = () => locations[0];\nexport const getLocationBySlug = (slug) => {\n  if (!slug) return { name: null, slug: null, qs: null };\n  const location = locations.find((location) => location.slug === slug);\n  if (location) return { ...location, qs: location.name };\n  return { name: null, slug, qs: slug };\n};\nexport const getNextLocation = (slug) => {\n  const index = locations.findIndex((location) => location.slug === slug);\n  if (index >= 0 && index < locations.length - 1) return locations[index + 1];\n  return locations[0];\n};\n","export const shuffle = (array) => {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n};\n","import { useState, useEffect } from \"react\";\n\nimport { getCity } from \"../../api\";\nimport {\n  getFirstLocation,\n  getLocationBySlug,\n  getNextLocation,\n} from \"../../utils/locations\";\n\nconst cache = {};\n\nconst getCached = (slug) => cache[slug || \"home\"];\nconst setCached = (slug, result) => (cache[slug || \"home\"] = result);\n\nconst useCity = (slug) => {\n  const [status, setStatus] = useState(\"loading\");\n  const [city, setCity] = useState(null);\n  const [nextCity, setNextCity] = useState(getFirstLocation());\n  useEffect(() => {\n    const load = async () => {\n      const currentLocation = getLocationBySlug(slug);\n      setStatus(\"loading\");\n      try {\n        let result = getCached(currentLocation.slug);\n        if (!result) {\n          result = await getCity(currentLocation.qs);\n          result.shortName = currentLocation.name;\n          setCached(currentLocation.slug, result);\n        }\n        setCity(result);\n        setStatus(\"loaded\");\n      } catch (e) {\n        setStatus(\"error\");\n      }\n    };\n\n    load();\n    if (slug) {\n      setNextCity(getNextLocation(slug));\n    }\n  }, [slug]);\n\n  return {\n    status,\n    isHome: !slug,\n    city,\n    nextCity,\n  };\n};\n\nexport default useCity;\n","import React, { useState } from \"react\";\nimport { useRoute } from \"wouter\";\n\nimport Webcam from \"../Webcam\";\nimport Background from \"../Background\";\nimport UI from \"../UI\";\nimport Canvas from \"../Canvas\";\n\nimport useCity from \"./useCity\";\n\nfunction City() {\n  const [, params] = useRoute(\"/:city\");\n  const [showWebcam, setShowWebcam] = useState(true);\n  const { status, city, nextCity, isHome } = useCity(params && params.city);\n\n  return (\n    <div>\n      {showWebcam ? <Webcam setShowWebcam={setShowWebcam} /> : <Background />}\n      <Canvas status={status} city={city} />\n      <UI status={status} city={city} isHome={isHome} nextCity={nextCity} />\n    </div>\n  );\n}\n\nexport default City;\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Router } from \"wouter\";\n\nimport Manifest from \"./components/Manifest\";\nimport City from \"./components/City\";\n\nconst currentLocation = () => {\n  return window.location.hash.replace(/^#/, \"\") || \"/\";\n};\n\nconst navigate = (to) => (window.location.hash = to);\n\nconst useHashLocation = () => {\n  const [loc, setLoc] = useState(currentLocation());\n  useEffect(() => {\n    const handler = () => setLoc(currentLocation());\n    window.addEventListener(\"hashchange\", handler);\n    return () => window.removeEventListener(\"hashchange\", handler);\n  }, []);\n  return [loc, navigate];\n};\n\nfunction App() {\n  return (\n    <div id=\"app\">\n      <Router hook={useHashLocation} base=\"/whatwebreathe\">\n        <Switch>\n          <Route path=\"/manifest\">\n            <Manifest />\n          </Route>\n          <Route>\n            <City />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Manifest_main__2P20W\",\"topBar\":\"Manifest_topBar__KGyn0\",\"brand\":\"Manifest_brand__1IZpN\",\"link\":\"Manifest_link__122tJ\",\"manifesto\":\"Manifest_manifesto__259C8\",\"image\":\"Manifest_image__14KZh\",\"row\":\"Manifest_row__3LLC5\",\"col6\":\"Manifest_col6__-DqT3\",\"paragraph\":\"Manifest_paragraph__S_40x\"};"],"sourceRoot":""}